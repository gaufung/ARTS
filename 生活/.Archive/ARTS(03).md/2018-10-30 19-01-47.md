---
date: 2018-10-28
status: public
tags: ARTS
title: ARTS(03)
---
# 1  Algorithm
换硬币问题(`currency exchange`)

# 2 Review
## 2.1 [What Programmer Can Do](https://lwn.net/Articles/255364/)
### 2.1.1 L1缓存
我们知道对于多维数组，数据存储是按照一定的循序的，将多维的数据按照一维的内存数组存储，对于一个二维数组，存储的形式如下：
![](./_image/2018-10-30-18-46-15.jpg)
如果访问内存的采用不同的索引顺序，第一种采用行索引优先；另一种采用列索引有限的方式，各自的时间消耗分别为：`0.048s`和`0.127s`，采用行索引优先的方式充分使用了缓存的空间局部性，使缓存行能够保存一行数组。如果数组的大小很大，时间消耗对比将更加突出。
对于矩阵 $A$ 和 $B$  相乘，算法过程大致如下:
```C
for(i = 0; i < N; ++i)
    for(j = 0; j < N; ++j)
        for(k =0; k < N; ++k)
            res[i][j] += mul1[i][k] * mul2[k][j]
```
通过刚刚知道，对于矩阵`mul1`充分使用缓存，但是对于矩阵`mul2`并没有使用缓存；因此需要一种更好的方式访问`mul2`元素：可以使用转置矩阵`mul2`:
$$
(AB)_{ij}=\Sigma_{k=0}^{N-1}a_{ik}b_{jk}^T = a_{i1}b_{j1}^T+a_{i2}b_{j2}^T + \ldots + a_{i(N-1)}b_{j(N-1)}^T
$$
算法过程如下
```C
double tmp
```
## 2.2 
# 3 Tips
# 4 Share