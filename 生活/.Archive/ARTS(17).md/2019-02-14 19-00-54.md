---
date: 2019-02-10
status: public
tags: ARTS
title: ARTS(17)
---
# 1 Algorithm
> 给定一个只包含数字的字符串，复原它并返回所有可能的 IP 地址格式。
> 输入："25525511135"
> 输出：["255.255.11.135", "255.255.111.35"]

这是一套比较常见的算法题，通常使用回溯的方法来解决问题，类似的题目有*八皇后*相关的题目。但是值注意的是，IP地址中每一个位，除了`0`之外，不允许的第一位为`0`的情况出现。
```python
class Solution(object):
    def restoreIpAddresses(self, s):
        """
        :type s: str
        :rtype: List[str]
        """
        pivots = [0]
        result = []
        while True:
            if len(pivots) == 0:
                break
            pivot = pivots[-1]
            pivots[-1] = pivot + 1
            if pivots[-1] >= len(s):
                pivots = pivots[:-1]
                continue
            if len(pivots) == 1:
                ip = s[:pivots[-1]]
                if self.valid(ip):
                    pivots.append(pivots[-1])
                else:
                    pivots = pivots[:-1]
            elif len(pivots) == 2:
                ip = s[pivots[-2]:pivots[-1]]
                if self.valid(ip):
                    pivots.append(pivots[-1])
                else:
                    pivots = pivots[:-1]
            else:
                ip1 = s[0:pivots[-3]]
                ip2 = s[pivots[-3]:pivots[-2]]
                ip3 = s[pivots[-2]:pivots[-1]]
                ip4 = s[pivots[-1]:]
                if self.valid(ip3) and self.valid(ip4):
                    result.append(".".join([ip1, ip2, ip3, ip4]))
                
        return result

    def valid(self, s):
        if s == "":
            return False
        if len(s) > 1 and s[0] == "0":
            return False
        ip = int(s)
        return 0<= ip <= 255
```
# 2 Review
[SSCCE](http://sscce.org/)
**简短，自包含，正确、例子**
如果你遇到了代码相关的问题，并且寻求帮助，那么`SSCCE`会非常有帮助，但是什么是`SSCCE`呢？
简而言之就是
- 简单(`Short`)-将例子的代码足够简单，不要让你的受众感到无聊；
- 自包含(`Self Contained`)-每一个必要的内容必须包含；
- 正确(`Correct`)-复制和粘贴后就能达到目的；
- 例子(`Example`)-展示将要去解决的问题。

## 2.1 简短(Short)
这个取决于社群和论坛，对于大部分公开的论坛，大部分读者会在超过100行代码后就会停止下去，一旦达到`250-300`行就开始抱怨。
###2.1.1 修短的技巧
如果GUI中包含了40个无关紧要的按钮，将它们去掉。如果它们和问题相关，将其中的一两个加上，如果问题出现了，就是这个问题。
对于包含上百个的入口的数组和表格的问题，同样的道理。如果是GUI排版的问题，将所有的处理逻辑代码去掉。同样的道理，如果是
# 3 Tips
- linux 命令中，`time <command>` 可以查看 `<command>` 执行需要的时间；
# 4 Share