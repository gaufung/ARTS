---
title: SICP(03)-数据抽象
status: public
date: 2018-09-27
---
# 1 数据封装

## 1.1 封装
数据抽象的基本层次是将关联的数据组合在一起，比如有理数分为分子(`numerator`)和分母(`denominator`)，单个的分子和分母是没有意义的，因此需要一个构造器(`constructor`）:
```scheme
(define (make-rational (n d)
    (cons (n d)))
```
## 1.2 访问
但是在算术计算中，还是需要确定有理数的分子和分母，对于已经封装的对象，需要提供选择器(`selector`)来访问被封装的数据。
```scheme
(define (numerator r)
    (car r))
(define (denominator r)
    (cdr r))
```
## 1.3 接口
既然做到了数据的封装，就需要对封装的对象提供对外操作的接口，在接口中屏蔽操作的细节。对于有理数，最重要的就是算术运算，因此需要定义`add-rational`,`sub-rational`,`mul-rational`和`div-rational`运算
```scheme
(define (add-rational r1 r2)
    (make-rational (+ (* (numerator r1) (denominator r2))
                                
```
# 2 数据多种抽象



